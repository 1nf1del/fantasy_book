<div class="container-fluid padding-large-horizontal">

  <div class ="col-md-2 prop-sports">
    <% @sports.each do |sport| %>
      <%= link_to sport.name, {controller: "props", action: "index", sport_id: sport.id}, method: :get %>
      <br />
    <% end %>
  </div>

  <div class="col-md-7 prop-table">
    <table class="table table-responsive">
    <% @dates.each do |date| %>
      <tr> <td class="prop-date" colspan="3"> <%= date.strftime("%B %-d, %Y") %> </td></tr>
        <% @props.each do |prop| %>
          <% if prop.time.to_date === date %>
            <tr>
            <td class="prop-proposition" colspan="3"><%= prop.proposition %> </td>
            </tr>
            <tr>
            <td rowspan="<%= prop.prop_choices.count %>" class="vert-align"> <div class="prop-time"> <span class="time"><%= prop.time.strftime("%H:%M EST") %> </span></div></td>
            <% prop.prop_choices.each do |choice| %>
              <td class="prop-name choice-<%= cycle 'odd', 'even' %>"> <%= choice.name %> </td>
              <td> <%= button_tag choice.display_line, type: "button", class: "wager-btn", data: { propchoiceid: choice.id} %> </td>
            </tr>
            <% end %>
          <% end %>
        <% end %>
    <% end %>
    </table>
  </div>

  <div class ="col-md-3 ticket">
    <h5> Betting Ticket </h5>

    <div class = "wager-types hidden">
      <%= button_tag "Straight", class: "straight-btn" %>
      <%= button_tag "Parlay", class: "parlay-btn" %>
      <%= button_tag "Teaser", class: "teaser-btn" %>
    </div>

    <% if flash[:alert] %>
      <div class="alert">
        <%= alert %>
      </div>
    <% end %>
    <% if flash[:notice] %>
      <div class="notice">
        <%= notice %>
      </div>
    <% end %>

    <%= form_tag wagers_path do %>
      <table class="straight">

        <tr class="actions hidden">
          <td> <%= password_field_tag 'password', nil, placeholder: "password to confirm" %> </td>
          <td> <%= submit_tag "Submit", class: "wager-submit" %> </td>
        </tr>

        <tbody class="new-wager-row wager hidden">
        <tr>
          <td colspan="7"> <p type="text" class="wager-info"></p> </td>
          <td> <%= button_tag "", type: "button", class: "delete-wager glyphicon glyphicon-remove" %> </td>
        </tr>
        <tr>
          <td> <%= text_field_tag "wager[][prop_id]", nil, class: "wager-prop-id hidden", readonly: "readonly" %> </td>
          <td> <strong> Risk </strong> <%= text_field_tag "wager[][risk_dollars]", nil, class: "wager-risk", value: number_with_precision(0.00, precision: 2) %> </td>
          <td> <strong> Win </strong> <input type="text" class="wager-win" value="0.00"> </td>
          <td> <%= text_field_tag "wager[][prop_choice_id]", nil, class: "wager-prop-choice-id hidden", readonly: "readonly" %> </td>
          <td> <%= text_field_tag "wager[][odds]", nil, class: "wager-odds hidden", readonly: "readonly" %> </td>
          <td> <%= text_field_tag "wager[][spread]", nil, class: "wager-spread hidden", readonly: "readonly" %> </td>
          <td> <%= text_field_tag "wager[][total]", nil, class: "wager-total hidden", readonly: "readonly" %> </td>

        </tr>
        </tbody>
      </table>
    <% end %>

    <div class="teaser hidden">
      Teasers here
    </div>

    <div class="parlay hidden">
      Parlays here
    </div>


  </div>
</div>

